<!-- Hamburger Button -->
<button (click)="toggleSidebar()" class="toggle-btn" aria-label="Toggle Sidebar">â˜°</button>

<!-- Sidebar -->
<div class="sidebar-container" [ngClass]="{'expanded': isExpanded}">
  <div class="d-flex flex-column flex-shrink-0 bg-light">
    <!-- Logo or Home Link -->
    <a routerLink="/" class="d-block p-3 link-dark text-decoration-none">
      <svg class="bi" width="40" height="32">
        <use xlink:href="#bootstrap"></use>
      </svg>
    </a>

    <!-- Navigation Menu -->
    <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
      <ng-container *ngFor="let module of modules; index as i">
        <li class="nav-item has-submenu" *ngIf="module.aspNetMenuItems.length">
          <a class="nav-link submenu-toggle" routerLink="/{{module.url}}" data-bs-toggle="collapse"
            [attr.data-bs-target]="'#'+i" aria-expanded="false" aria-controls="submenu-2">
            <span class="nav-icon" [innerHTML]="module.icon"></span>
            <span class="nav-link-text">{{module.moduleName}}</span>
            <span class="submenu-arrow">
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
              </svg>
            </span>
          </a>
          <div id="{{i}}" class="collapse submenu" data-bs-parent="#menu-accordion">
            <ul class="submenu-list list-unstyled">
              <li class="submenu-item" *ngFor="let menu of module.aspNetMenuItems; index as j">
                <a class="submenu-link" routerLink="/{{menu.url}}" routerLinkActive="active"
                  [routerLinkActiveOptions]="{exact: true}">{{menu.menuItemName}}</a>
              </li>
            </ul>
          </div>
        </li>
      </ng-container>
    </ul>
  </div>
</div>